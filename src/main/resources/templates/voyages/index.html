<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layouts/master">
	<head>
		<meta charset="utf-8" />
		<!-- Title -->
		<title>Liste des voyages</title>
	</head>
<body>
	<div layout:fragment="content">
		<div class="page-content">
			<!-- BEGIN PAGE HEADER-->
			<!-- BEGIN PAGE BAR -->
			<div class="page-bar">
				<ul class="page-breadcrumb">
					<li><a href="index.html">Tableau de bord</a> <i
						class="fa fa-circle"></i></li>
					<li><span>Voyages</span></li>
				</ul>
			</div>
			<!-- END PAGE BAR -->
			<!-- BEGIN PAGE TITLE-->
			<h1 class="page-title">
				Voyages
				<small class="pull-right"> 
					<a class="btn red btn-md" th:href="@{ /voyage/create }"> 
						<i class="fa fa-plus"></i> &nbsp; Nouveau voyage
					</a>
				</small>
			</h1>
			<!-- END PAGE TITLE-->
			<!-- END PAGE HEADER-->
			<div class="row">
				<div class="col-md-12">
					<div class="portlet grey-cascade box">
						<div class="portlet-title">
							<div class="caption">
								<span class="caption-subject uppercase">
									Chercher
								</span>
							</div>
							<div class="tools">
		                        <a href="" class="fullscreen" data-original-title="Agrandir" title="Agrandir"> </a>
		                    </div>
						</div>
						<div class="portlet-body">
							<div class="row">
								<div class="col-md-8">
									<label>Mot de recherche</label>
									<input type="text" name="query" class="form-control" placeholder="Chercher...">
								</div>
								<div class="col-md-2">
									<label>Chercher par</label>
									<select name="seracheBy" class="form-control">
										<option>Chauffeur</option>
		                                <option>Date</option>
		                                <option>Autocar</option>
									</select>
								</div>
								<div class="col-md-2">
									<label>.</label>
									<button class="btn btn-warning btn-block">Chercher</button>
								</div>
							</div>
						</div>
					</div>
					<div class="portlet grey-cascade box">
						<div class="portlet-title">
							<div class="caption">
								<span class="caption-subject uppercase">
									Liste des voyages
								</span>
							</div>
							<div class="tools">
		                        <a href="" class="fullscreen" data-original-title="Agrandir" title="Agrandir"> </a>
		                    </div>
						</div>
						<div class="portlet-body">
							<table class="table table-striped table-bordered dataTable">
		                        <thead>
		                            <tr>
		                                <th>Date de voyage</th>
		                                <th>Chauffeur 1</th>
		                                <th>Chauffeur 2</th>
		                                <th>Ville depart</th>
		                                <th>Ville arrive</th>
		                                <th>Autocar</th>
		                                <th>Duree voyage</th>
		                                <th>Actions</th>
		                            </tr>
		                        </thead>
		                        <tbody>
			                        <tr th:each="voyage:${voyages}">
			                            <td th:text="${#dates.format(voyage.date, 'dd/MM/yyyy')}"></td>
			                            <td th:text="${voyage.chauffeurPremier.nom + ' ' + voyage.chauffeurPremier.prenom}"></td>
			                            <td th:text="${voyage.chauffeurDeuxieme.nom + ' ' + voyage.chauffeurDeuxieme.prenom}"></td>
			                            <td th:text="${voyage.ligne.villeDepart.nom}"></td>
			                            <td th:text="${voyage.ligne.villeArrive.nom}"></td>
			                            <td th:text="${voyage.autoCar.matricule}"></td>
			                            <td th:text="${voyage.ligne.dureeVoyage}"></td>
			                            <td class="td-actions">
			                            	<a th:href="@{'/voyage/edit/' + ${voyage.id}}" class="btn green-jungle btn-sm uppercase">
			                                	<i class="fa fa-edit"></i>
			                                </a>
			                                <form th:action="@{ '/voyage/delete/' + ${ voyage.id } }" style="display: inline-block" method="POST">
									 			<input type="hidden" name="_method" value="DELETE">
				                                <button class="btn red-flamingo btn-sm uppercase">
				                                	<i class="fa fa-trash-o"></i>
				                                </button>
				                            </form>
			                            </td>
			                        </tr>
		                        </tbody>
		                    </table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>